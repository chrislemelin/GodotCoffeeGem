[gd_scene load_steps=10 format=3 uid="uid://bxshhmv8s75ky"]

[ext_resource type="Script" path="res://cards/Card.cs" id="1_qwo4a"]
[ext_resource type="Texture2D" uid="uid://b6s3b155jtgru" path="res://placeholders/cards/card_front_background.png" id="2_e0gwr"]
[ext_resource type="Script" path="res://util/HighlightOnHover.cs" id="3_a0ard"]
[ext_resource type="Texture2D" uid="uid://dnox2bfhb7cvl" path="res://placeholders/cards/card_desc_background.png" id="4_we8e7"]
[ext_resource type="Texture2D" uid="uid://ca0mcy3xcejpu" path="res://placeholders/cards/card_picture_placeholder.png" id="5_acqdq"]
[ext_resource type="Texture2D" uid="uid://b7sxhsppng06y" path="res://placeholders/cards/card_name_background.png" id="6_w0vkw"]
[ext_resource type="Texture2D" uid="uid://degul8hk4pgqr" path="res://placeholders/cards/card_cost_background.png" id="7_oo2ju"]

[sub_resource type="Shader" id="Shader_mg2id"]
code = "shader_type canvas_item;

uniform vec4 line_color : source_color = vec4(1);
uniform float line_thickness : hint_range(0, 10) = 1.0;

const vec2 OFFSETS[8] = {
	vec2(-1, -1), vec2(-1, 0), vec2(-1, 1), vec2(0, -1), vec2(0, 1), 
	vec2(1, -1), vec2(1, 0), vec2(1, 1)
};

void fragment() {
	vec2 size = TEXTURE_PIXEL_SIZE * line_thickness / 2.0;
	vec4 color = texture(TEXTURE, UV);
	
	float inline = 1.0;
	float outline = 0.0;
	for (int i = 0; i < OFFSETS.length(); i++) {
		float sample = texture(TEXTURE, UV + size * OFFSETS[i]).a;
		outline += sample;
		inline *= sample;
	}
	outline = min(1.0, outline) - color.a;
	inline = (1.0 - inline) * color.a;
	
	vec4 outlined_result = mix(color, line_color, outline + inline);
	COLOR = mix(color, outlined_result, outlined_result.a);
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_pyxp0"]
shader = SubResource("Shader_mg2id")
shader_parameter/line_color = Color(0, 0.0509804, 0.905882, 0)
shader_parameter/line_thickness = 5.009

[node name="card2" type="Control" node_paths=PackedStringArray("titleLabel", "descriptionLabel", "costLabel")]
layout_mode = 3
anchors_preset = 0
offset_left = 4.0
offset_top = -4.0
offset_right = 4.0
offset_bottom = -4.0
scale = Vector2(0.3, 0.3)
script = ExtResource("1_qwo4a")
titleLabel = NodePath("Center/Title/RichTextLabel")
descriptionLabel = NodePath("Center/Text/RichTextLabel")
costLabel = NodePath("Center/Cost/RichTextLabel")

[node name="Center" type="Control" parent="."]
anchors_preset = 0
offset_left = -219.317
offset_top = -313.333
offset_right = -219.317
offset_bottom = -313.333

[node name="Background" type="TextureRect" parent="Center"]
material = SubResource("ShaderMaterial_pyxp0")
layout_mode = 0
texture = ExtResource("2_e0gwr")
script = ExtResource("3_a0ard")

[node name="Text" type="Control" parent="Center"]
anchors_preset = 0
offset_left = 29.0
offset_top = 331.0
offset_right = 29.0
offset_bottom = 331.0
scale = Vector2(1.2, 1.2)

[node name="Sprite2D" type="TextureRect" parent="Center/Text"]
layout_mode = 0
texture = ExtResource("4_we8e7")

[node name="RichTextLabel" type="RichTextLabel" parent="Center/Text"]
layout_mode = 0
offset_left = 14.0
offset_top = 11.0
offset_right = 289.0
offset_bottom = 190.0
theme_override_colors/default_color = Color(0, 0, 0, 1)
text = "asdfasefasef"

[node name="Picture" type="Control" parent="Center"]
anchors_preset = 0
offset_left = 63.0
offset_top = 97.0
offset_right = 63.0
offset_bottom = 97.0

[node name="Sprite2D" type="TextureRect" parent="Center/Picture"]
layout_mode = 0
texture = ExtResource("5_acqdq")

[node name="Title" type="Control" parent="Center"]
anchors_preset = 0
offset_left = 39.0
offset_top = 19.0
offset_right = 39.0
offset_bottom = 19.0

[node name="Sprite2D" type="TextureRect" parent="Center/Title"]
layout_mode = 0
texture = ExtResource("6_w0vkw")

[node name="RichTextLabel" type="RichTextLabel" parent="Center/Title"]
layout_mode = 0
offset_left = 35.0
offset_top = 25.0
offset_right = 313.0
offset_bottom = 65.0
theme_override_colors/default_color = Color(0, 0, 0, 1)
theme_override_font_sizes/normal_font_size = 30
bbcode_enabled = true
text = "[center]CARD TITLE[/center]"
fit_content = true
scroll_active = false

[node name="Cost" type="Control" parent="Center"]
anchors_preset = 0
offset_left = 62.65
offset_top = 63.3333
offset_right = 62.65
offset_bottom = 63.3333

[node name="Sprite2D" type="TextureRect" parent="Center/Cost"]
layout_mode = 0
texture = ExtResource("7_oo2ju")

[node name="RichTextLabel" type="RichTextLabel" parent="Center/Cost"]
modulate = Color(0, 0, 0, 1)
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -36.6667
offset_right = 8.0
offset_bottom = 46.3333
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/normal_font_size = 60
text = "1"
fit_content = true
scroll_active = false
